import{d as U,a as K,u as T}from"./index-08v4467x.js";import{_ as j,a as q,b as E,c as G,d as M,e as Q,f as Y,g as J,h as W,i as X,j as Z,k as ee,l as se,m as _e,n as ne,o as ie,p as ae,q as te,r as oe,s as le,t as ue,u as re,v as ge,w as fe,x as pe,y as ve,z as ce,A as me,B as de,C as be,D as xe,E as we,F as he,G as ye,H as ke,I as $e,J as Ce,K as Se,L as Ie,M as Be,N as Ve,O as Ae,P as Le,Q as Ue,R as De,S as He,T as Ne,U as Pe,V as Fe,W as Oe,X as Re,Y as ze,Z as Ke,$ as Te,a0 as je,a1 as qe,a2 as Ee,a3 as Ge,a4 as Me,a5 as Qe,a6 as Ye,a7 as Je,a8 as We,a9 as Xe,aa as Ze,ab as es,ac as ss,ad as _s,ae as ns,af as is,ag as as,ah as ts}from"./通用_9-RpNzfLGr.js";import{f as A,r as I,K as y,Y as N,i as g,o as s,v as m,x as i,I as e,B as x,h as t,A as P,g as f,C as V,a4 as B,F as $,O as F,a5 as O,w as L,z as H,a6 as os,a7 as ls}from"./vendor-DwjfiTos.js";const us={class:"user-info"},rs=["src"],gs={class:"user-info-name"},fs={class:"user-info-role"},ps={class:"user-info-caret"},vs={class:"user-info__content"},cs={class:"popover__header"},ms={class:"header-left"},ds=["src"],bs={class:"user-name"},xs={class:"user-role"},ws={class:"header-right"},hs={class:"popover__content"},ys={class:"personal-center"},ks=e("span",null,"个人资料",-1),$s=e("span",null,"修改密码",-1),Cs={class:"entry-list"},Ss=["onClick"],Is=A({__name:"dropdown",props:{userInfo:{default:()=>({})},roles:{default:()=>({1:"",2:"",10:"管理员"})}},setup(C){const p=C,w=I([{name:"星座_白羊座",suffix:"png"},{name:"星座_金牛座",suffix:"png"},{name:"星座_双子座",suffix:"png"},{name:"星座_巨蟹座",suffix:"png"},{name:"星座_狮子座",suffix:"png"},{name:"星座_处女座",suffix:"png"},{name:"星座_天秤座",suffix:"png"},{name:"星座_天蝎座",suffix:"png"},{name:"星座_射手座",suffix:"png"},{name:"星座_摩羯座",suffix:"png"},{name:"星座_水瓶座",suffix:"png"},{name:"星座_双鱼座",suffix:"png"},{name:"生肖_鼠",suffix:"png"},{name:"生肖_牛",suffix:"png"},{name:"生肖_虎",suffix:"png"},{name:"生肖_兔",suffix:"png"},{name:"生肖_龙",suffix:"png"},{name:"生肖_蛇",suffix:"png"},{name:"生肖_马",suffix:"png"},{name:"生肖_羊",suffix:"png"},{name:"生肖_猴",suffix:"png"},{name:"生肖_鸡",suffix:"png"},{name:"生肖_狗",suffix:"png"},{name:"生肖_猪",suffix:"png"},{name:"比赛_1",suffix:"png"},{name:"比赛_2",suffix:"png"},{name:"比赛_3",suffix:"png"},{name:"比赛_4",suffix:"png"},{name:"比赛_5",suffix:"png"},{name:"比赛_6",suffix:"png"},{name:"比赛_7",suffix:"png"},{name:"比赛_8",suffix:"png"},{name:"比赛_9",suffix:"png"},{name:"比赛_10",suffix:"png"},{name:"比赛_11",suffix:"png"},{name:"比赛_12",suffix:"png"},{name:"学生卡通_1",suffix:"png"},{name:"学生卡通_2",suffix:"png"},{name:"学生卡通_3",suffix:"png"},{name:"学生卡通_4",suffix:"png"},{name:"学生卡通_5",suffix:"png"},{name:"学生卡通_6",suffix:"png"},{name:"学生卡通_7",suffix:"png"},{name:"学生卡通_8",suffix:"png"},{name:"学生卡通_9",suffix:"png"},{name:"学生卡通_10",suffix:"png"},{name:"学生卡通_11",suffix:"png"},{name:"学生卡通_12",suffix:"png"},{name:"学生扁平_1",suffix:"png"},{name:"学生扁平_2",suffix:"png"},{name:"学生扁平_3",suffix:"png"},{name:"学生扁平_4",suffix:"png"},{name:"学生扁平_5",suffix:"png"},{name:"学生扁平_6",suffix:"png"},{name:"学生扁平_7",suffix:"png"},{name:"学生扁平_8",suffix:"png"},{name:"学生扁平_9",suffix:"png"},{name:"学生扁平_10",suffix:"png"},{name:"学生扁平_11",suffix:"png"},{name:"学生扁平_12",suffix:"png"},{name:"通用_1",suffix:"png"},{name:"通用_2",suffix:"png"},{name:"通用_3",suffix:"png"},{name:"通用_4",suffix:"png"},{name:"通用_5",suffix:"png"},{name:"通用_6",suffix:"png"},{name:"通用_7",suffix:"png"},{name:"通用_8",suffix:"png"},{name:"通用_9",suffix:"png"},{name:"通用_10",suffix:"png"},{name:"通用_11",suffix:"png"},{name:"通用_12",suffix:"png"}]);w.value.forEach(n=>{n.url=new URL(Object.assign({"../../../views/userinfo/images/学生卡通_1.png":j,"../../../views/userinfo/images/学生卡通_10.png":q,"../../../views/userinfo/images/学生卡通_11.png":E,"../../../views/userinfo/images/学生卡通_12.png":G,"../../../views/userinfo/images/学生卡通_2.png":M,"../../../views/userinfo/images/学生卡通_3.png":Q,"../../../views/userinfo/images/学生卡通_4.png":Y,"../../../views/userinfo/images/学生卡通_5.png":J,"../../../views/userinfo/images/学生卡通_6.png":W,"../../../views/userinfo/images/学生卡通_7.png":X,"../../../views/userinfo/images/学生卡通_8.png":Z,"../../../views/userinfo/images/学生卡通_9.png":ee,"../../../views/userinfo/images/学生扁平_1.png":se,"../../../views/userinfo/images/学生扁平_10.png":_e,"../../../views/userinfo/images/学生扁平_11.png":ne,"../../../views/userinfo/images/学生扁平_12.png":ie,"../../../views/userinfo/images/学生扁平_2.png":ae,"../../../views/userinfo/images/学生扁平_3.png":te,"../../../views/userinfo/images/学生扁平_4.png":oe,"../../../views/userinfo/images/学生扁平_5.png":le,"../../../views/userinfo/images/学生扁平_6.png":ue,"../../../views/userinfo/images/学生扁平_7.png":re,"../../../views/userinfo/images/学生扁平_8.png":ge,"../../../views/userinfo/images/学生扁平_9.png":fe,"../../../views/userinfo/images/星座_双子座.png":pe,"../../../views/userinfo/images/星座_双鱼座.png":ve,"../../../views/userinfo/images/星座_处女座.png":ce,"../../../views/userinfo/images/星座_天秤座.png":me,"../../../views/userinfo/images/星座_天蝎座.png":de,"../../../views/userinfo/images/星座_射手座.png":be,"../../../views/userinfo/images/星座_巨蟹座.png":xe,"../../../views/userinfo/images/星座_摩羯座.png":we,"../../../views/userinfo/images/星座_水瓶座.png":he,"../../../views/userinfo/images/星座_狮子座.png":ye,"../../../views/userinfo/images/星座_白羊座.png":ke,"../../../views/userinfo/images/星座_金牛座.png":$e,"../../../views/userinfo/images/比赛_1.png":Ce,"../../../views/userinfo/images/比赛_10.png":Se,"../../../views/userinfo/images/比赛_11.png":Ie,"../../../views/userinfo/images/比赛_12.png":Be,"../../../views/userinfo/images/比赛_2.png":Ve,"../../../views/userinfo/images/比赛_3.png":Ae,"../../../views/userinfo/images/比赛_4.png":Le,"../../../views/userinfo/images/比赛_5.png":Ue,"../../../views/userinfo/images/比赛_6.png":De,"../../../views/userinfo/images/比赛_7.png":He,"../../../views/userinfo/images/比赛_8.png":Ne,"../../../views/userinfo/images/比赛_9.png":Pe,"../../../views/userinfo/images/生肖_兔.png":Fe,"../../../views/userinfo/images/生肖_牛.png":Oe,"../../../views/userinfo/images/生肖_狗.png":Re,"../../../views/userinfo/images/生肖_猪.png":ze,"../../../views/userinfo/images/生肖_猴.png":Ke,"../../../views/userinfo/images/生肖_羊.png":Te,"../../../views/userinfo/images/生肖_虎.png":je,"../../../views/userinfo/images/生肖_蛇.png":qe,"../../../views/userinfo/images/生肖_马.png":Ee,"../../../views/userinfo/images/生肖_鸡.png":Ge,"../../../views/userinfo/images/生肖_鼠.png":Me,"../../../views/userinfo/images/生肖_龙.png":Qe,"../../../views/userinfo/images/通用_1.png":Ye,"../../../views/userinfo/images/通用_10.png":Je,"../../../views/userinfo/images/通用_11.png":We,"../../../views/userinfo/images/通用_12.png":Xe,"../../../views/userinfo/images/通用_2.png":Ze,"../../../views/userinfo/images/通用_3.png":es,"../../../views/userinfo/images/通用_4.png":ss,"../../../views/userinfo/images/通用_5.png":_s,"../../../views/userinfo/images/通用_6.png":ns,"../../../views/userinfo/images/通用_7.png":is,"../../../views/userinfo/images/通用_8.png":as,"../../../views/userinfo/images/通用_9.png":ts})[`../../../views/userinfo/images/${n.name}.${n.suffix}`],import.meta.url).href});const u=y(()=>w.value.find(n=>n.name===p.userInfo.avatar).url),l=N(),d=U(),o=I([{label:"使用分析",icon:"DataAnalysis",route:"Analysis"},{label:"偏好设置",icon:"Setting",route:"habits",go:!0},{label:"更新日志",icon:"ScaleToOriginal",route:"Uplog"},{label:"关于系统",icon:"InfoFilled",route:"About"}]),_=n=>{l.push({path:"/profile",query:{type:n}})},b=n=>{l.push({name:n.route})},v=()=>{localStorage.removeItem("token"),d.resetData(),l.push({path:"/login"})};return(n,a)=>{const h=g("CaretBottom"),r=g("el-icon"),c=g("el-button"),S=g("Postcard"),D=g("Lock"),R=g("el-popover");return s(),m(R,{placement:"bottom-end",trigger:"click",width:360,"popper-class":"user-info-popover"},{reference:i(()=>[e("div",us,[e("img",{class:"user-info-avatar",src:u.value,alt:""},null,8,rs),e("span",gs,x(n.userInfo.username),1),e("span",fs,x(n.roles[n.userInfo.role]),1),e("span",ps,[t(r,null,{default:i(()=>[t(h)]),_:1})])])]),default:i(()=>[e("div",vs,[e("div",cs,[e("div",ms,[e("img",{class:"user-avatar",src:u.value,alt:""},null,8,ds),e("div",null,[e("span",bs,x(n.userInfo.username),1),e("span",xs,x(n.roles[n.userInfo.role]),1)])]),e("div",ws,[t(c,{type:"primary",onClick:v},{default:i(()=>[P("退出登录")]),_:1})])]),e("div",hs,[e("div",ys,[e("div",{class:"center-item",onClick:a[0]||(a[0]=k=>_("base"))},[t(r,null,{default:i(()=>[t(S)]),_:1}),ks]),e("div",{class:"center-item",onClick:a[1]||(a[1]=k=>_("security"))},[t(r,null,{default:i(()=>[t(D)]),_:1}),$s])]),e("div",Cs,[(s(!0),f($,null,V(o.value,(k,z)=>(s(),f("div",{class:"entry-item",key:z,onClick:Ms=>k.go?_(k.route):b(k)},[t(r,null,{default:i(()=>[(s(),m(B(k.icon)))]),_:2},1024),e("span",null,x(k.label),1)],8,Ss))),128))])])])]),_:1})}}}),Bs={class:"app-header"},Vs=["src"],As={class:"app-name"},Ls={class:"app-rightmenu"},Us={class:"app-features"},Ds=["onClick"],Hs={class:"app-links"},Ns=["href","target"],Ps=A({__name:"LayoutHeader",setup(C){const p=K(),w=U(),u=N(),l=y(()=>p.systemConfig.website),d=y(()=>p.systemConfig.system),o=y(()=>w.userInfo),_=y(()=>(p.dicts.find(h=>h.code==="user_role").values||[]).reduce((h,r,c,S)=>(h[r.value]=r.label,h),{})),b=y(()=>d.value.enable_chatgpt?[{text:"ChatGPT",path:"/chatgpt",bg:new URL("/static/svg/jhot-KdG_0QMC.svg",import.meta.url).href}]:[]),v=y(()=>p.systemConfig.bucket_service);function n(a){u.push({path:a.path})}return(a,h)=>{const r=g("router-link");return s(),f("div",Bs,[t(r,{to:"/",tag:"div",class:"app-logo"},{default:i(()=>[e("img",{src:l.value.logo||"/logo.png",alt:"系统logo"},null,8,Vs),e("span",As,x(l.value.name||"默认系统名称"),1)]),_:1}),e("div",Ls,[e("div",Us,[(s(!0),f($,null,V(b.value,(c,S)=>(s(),f("div",{class:"feature-item",key:"feature-item-"+S,onClick:D=>n(c)},[P(x(c.text)+" ",1),e("div",{class:"feature-item-icon",style:F({backgroundImage:`url('${c.bg}')`})},null,4)],8,Ds))),128))]),e("div",Hs,[(s(!0),f($,null,V(v.value,(c,S)=>(s(),f("a",{key:S,href:c.link,class:"link-item",target:c.target},x(c.label),9,Ns))),128))]),t(Is,{"user-info":o.value,roles:_.value},null,8,["user-info","roles"])])])}}}),Fs="/static/webp/banner2-3u6qyODB.webp",Os={class:"sidebar-container v-scrollbar"},Rs=os('<div class="logo-bannner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400"><image xlink:href="'+Fs+'" x="30" y="0" height="380" width="380"></image><text x="410" y="130" class="text-title-en" font-family="Helvetica">LightFastPicture</text><text x="410" y="245" class="text-title-cn" font-family="Helvetica">轻快图片管理系统</text><text x="410" y="340" class="text-desc" font-family="Helvetica">轻量级快捷图片图床管理系统</text></svg></div>',1),zs=A({__name:"LayoutSidebar",setup(C){const p=O(),w=U(),u=I("/"),l=y(()=>w.user_menus);return L(()=>p,d=>{const{meta:o,path:_,name:b}=d;o&&o.active?u.value=o.active:u.value=_},{immediate:!0,deep:!0}),(d,o)=>{const _=g("el-icon"),b=g("el-menu-item"),v=g("el-sub-menu"),n=g("el-menu");return s(),f("div",Os,[Rs,t(n,{"default-active":u.value,"text-color":"#969696","active-text-color":"#2d8cf0",style:{"border-right":"none"},router:""},{default:i(()=>[(s(!0),f($,null,V(l.value[0].children,(a,h)=>(s(),f($,{key:h},[a.children?(s(),m(v,{key:0,index:a.path},{title:i(()=>[t(_,null,{default:i(()=>[(s(),m(B(a.meta.icon)))]),_:2},1024),e("span",null,x(a.meta.title),1)]),default:i(()=>[(s(!0),f($,null,V(a.children,(r,c)=>(s(),f($,{key:c},[r.meta.hidden?H("",!0):(s(),m(b,{key:0,index:r.path},{default:i(()=>[t(_,null,{default:i(()=>[(s(),m(B(r.meta.icon)))]),_:2},1024),e("span",null,x(r.meta.title),1)]),_:2},1032,["index"]))],64))),128))]),_:2},1032,["index"])):a.meta.hidden?H("",!0):(s(),m(b,{key:1,index:a.path},{default:i(()=>[t(_,null,{default:i(()=>[(s(),m(B(a.meta.icon)))]),_:2},1024),e("span",null,x(a.meta.title),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active"])])}}}),Ks=e("h4",null,"我的标题",-1),Ts=e("span",null,"Hi, there!",-1),js=A({__name:"task-center",props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(C,{emit:p}){const w=C,u=p,l=y({get:()=>w.visible,set:o=>u("update:visible",o)}),d=()=>{u("update:visible",!1)};return(o,_)=>{const b=g("el-drawer");return s(),m(b,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=v=>l.value=v),size:600,class:"task-center","close-on-press-escape":!0,"show-close":!0,"before-close":d},{header:i(()=>[Ks]),default:i(()=>[Ts]),_:1},8,["modelValue"])}}}),qs={class:"layout-wrapper"},Es={class:"app-container"},Gs={class:"content-container"},Ws=A({__name:"index",setup(C){const p=T(),w=O(),u=I(!1),l=I({flex:"1",backgroundColor:"transparent"}),d=I(!1);return L(()=>p.$route,(o,_)=>{["SystemSetting"].includes(o.name)?l.value.flex="0 0 calc(100% - 50px)":l.value.flex="1",["About","Uplog"].includes(o.name)||(l.value.backgroundColor="transparent")},{immediate:!0}),L(()=>w,o=>{const{keepAlive:_}=o.meta;d.value=!!_},{immediate:!0,deep:!0}),(o,_)=>{const b=g("router-view");return s(),f("div",qs,[t(Ps),e("div",Es,[t(zs),e("div",Gs,[e("div",{class:"page-container",style:F(l.value)},[t(b,null,{default:i(({Component:v})=>[d.value?(s(),m(ls,{key:0},[(s(),m(B(v)))],1024)):(s(),m(B(v),{key:1}))]),_:1})],4)])]),t(js,{visible:u.value,"onUpdate:visible":_[0]||(_[0]=v=>u.value=v)},null,8,["visible"])])}}});export{Ws as default};
