import{a as D,P as I,C as P}from"./index-TExW8zL1.js";import{_ as S}from"./plugin-item.vue_vue_type_style_index_0_lang-p4iubqyG.js";import{i as $,a as E,K as F,j as d,k as i,x as n,o as a,Y as N,y as U,p as o,I as j,F as p,C as _,v as c,s as q}from"./vendor-GbG8F5IP.js";import"./dragBox-PpsM3lYG.js";const z={class:"plugin-container"},A={class:"plugin-filter"},H=$({__name:"index",setup(G){const m=new I,f=N(),g=D(),e=E({page:1,size:10,total:0,filters:{search:"",category:""},loading:!1,data:[]}),v=F(()=>[{label:"全部插件",value:""},...g.dicts.find(l=>l.code==="plugin_type").values||[]]);function r(){e.loading=!0,m.find({status:!0,...e.filters}).then(l=>{e.data=l.items,e.total=l.total,e.loading=!1})}r();function h(l){f.push({name:"PluginDetail",query:{plugin_id:l.id}})}function y(l){setTimeout(()=>{r()},1e3)}return(l,s)=>{const k=a("el-option"),C=a("el-select"),x=a("el-input"),V=a("el-col"),w=a("el-row"),b=a("c-card"),B=U("loading");return o(),d("div",z,[i(b,{title:`插件市场(${e.total})`},{cardAction:n(()=>[j("div",A,[i(C,{modelValue:e.filters.category,"onUpdate:modelValue":s[0]||(s[0]=t=>e.filters.category=t),placeholder:"请选择插件类别",onChange:r},{default:n(()=>[(o(!0),d(p,null,_(v.value,(t,u)=>(o(),c(k,{key:"type-"+u,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),i(x,{modelValue:e.filters.search,"onUpdate:modelValue":s[1]||(s[1]=t=>e.filters.search=t),placeholder:"请输入搜索内容...",style:{width:"180px"},"suffix-icon":"Search",clearable:"",onInput:y},null,8,["modelValue"])])]),default:n(()=>[q((o(),c(w,{class:"plugin-list"},{default:n(()=>[e.data.length?(o(!0),d(p,{key:0},_(e.data,(t,u)=>(o(),c(V,{xl:6,lg:8,md:12,key:u},{default:n(()=>[i(S,{detail:t,onClick:K=>h(t)},null,8,["detail","onClick"])]),_:2},1024))),128)):(o(),c(P,{key:1}))]),_:1})),[[B,e.loading]])]),_:1},8,["title"])])}}});export{H as default};
